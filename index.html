<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Atma:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="preload" as="image" href="Damage Types\Ammo\Normal.png">
    <link rel="preload" as="image" href="Damage Types\Ammo\Pierce.png">
    <link rel="preload" as="image" href="Damage Types\Ammo\Spread.png">
    <link rel="preload" as="image" href="Damage Types\Ammo\Sticky.png">
    <link rel="preload" as="image" href="Damage Types\Element\Dragon.png">
    <link rel="preload" as="image" href="Damage Types\Element\Fire.png">
    <link rel="preload" as="image" href="Damage Types\Element\Ice.png">
    <link rel="preload" as="image" href="Damage Types\Element\Thunder.png">
    <link rel="preload" as="image" href="Damage Types\Element\Water.png">
    <link rel="preload" as="image" href="Damage Types\Shells\Long.png">
    <link rel="preload" as="image" href="Damage Types\Shells\Normal.png">
    <link rel="preload" as="image" href="Damage Types\Shells\Wide.png">
    <link rel="preload" as="image" href="Damage Types\Status\Blast.png">
    <link rel="preload" as="image" href="Damage Types\Status\Paralysis.png">
    <link rel="preload" as="image" href="Damage Types\Status\Poison.png">
    <link rel="preload" as="image" href="Damage Types\Status\Sleep.png">
    <link rel="preload" as="image" href="Damage Types\Raw.png">
    <link rel="preload" as="image" href="Monster\Ajarakan.png">
    <link rel="preload" as="image" href="Monster\Arkveld.png">
    <link rel="preload" as="image" href="Monster\Balahara.png">
    <link rel="preload" as="image" href="Monster\Blangonga.png">
    <link rel="preload" as="image" href="Monster\Chatacabra.png">
    <link rel="preload" as="image" href="Monster\Congalala.png">
    <link rel="preload" as="image" href="Monster\Doshugama.png">
    <link rel="preload" as="image" href="Monster\Gore Magala.png">
    <link rel="preload" as="image" href="Monster\Gravios.png">
    <link rel="preload" as="image" href="Monster\Guardian Doshaguma.png">
    <link rel="preload" as="image" href="Monster\Guardian Ebony Odogaron.png">
    <link rel="preload" as="image" href="Monster\Guardian Fulgur Anjanath.png">
    <link rel="preload" as="image" href="Monster\Guardian Rathalos.png">
    <link rel="preload" as="image" href="Monster\Gypceros.png">
    <link rel="preload" as="image" href="Monster\Hirabami.png">
    <link rel="preload" as="image" href="Monster\Jin Dahaad.png">
    <link rel="preload" as="image" href="Monster\Lala Barina.png">
    <link rel="preload" as="image" href="Monster\Nerscylla.png">
    <link rel="preload" as="image" href="Monster\Nu Udra.png">
    <link rel="preload" as="image" href="Monster\Quematrice.png">
    <link rel="preload" as="image" href="Monster\Rathalos.png">
    <link rel="preload" as="image" href="Monster\Rathian.png">
    <link rel="preload" as="image" href="Monster\Rey Dau.png">
    <link rel="preload" as="image" href="Monster\Rompopolo.png">
    <link rel="preload" as="image" href="Monster\Unknown.png">
    <link rel="preload" as="image" href="Monster\Uth Duna.png">
    <link rel="preload" as="image" href="Monster\Xu Wu.png">
    <link rel="preload" as="image" href="Monster\Yian Kut-Ku.png">
    <link rel="preload" as="image" href="Weapon\Bow.png">
    <link rel="preload" as="image" href="Weapon\Charge Blade.png">
    <link rel="preload" as="image" href="Weapon\Dual Blades.png">
    <link rel="preload" as="image" href="Weapon\Great Sword.png">
    <link rel="preload" as="image" href="Weapon\Gunlance.png">
    <link rel="preload" as="image" href="Weapon\Hammer.png">
    <link rel="preload" as="image" href="Weapon\Heavy Bowgun.png">
    <link rel="preload" as="image" href="Weapon\Hunting Horn.png">
    <link rel="preload" as="image" href="Weapon\Insect Glaive.png">
    <link rel="preload" as="image" href="Weapon\Lance.png">
    <link rel="preload" as="image" href="Weapon\Light Bowgun.png">
    <link rel="preload" as="image" href="Weapon\Long Sword.png">
    <link rel="preload" as="image" href="Weapon\Switch Axe.png">
    <link rel="preload" as="image" href="Weapon\Sword and Shield.png">

    <style>
        body {
            margin: 0;
            background-size: 100vw 100vh;
            font-family: "Atma";
        }

        .content {
            text-align: center;
            background-color: rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(7px);
            height: 100%;
            min-height: 100vh;
            width: 100%;
        }

        .item {
            width: 256px;
        }

        .row {
            padding: 20px 0px;
        }

        .label {
            background-color: #e6c6ff;
            width: 300px;
            margin: auto;
            font-size: 24px;
            border-radius: 100px;
            border: 7px rebeccapurple solid;
            max-width: 90vw;
        }

        #result {
            width: 600px;
        }

        #randomize {
            background-color: #e6c6ff;
            font-weight: bold;
            font-size: 24px;
            border-radius: 100px;
            border: 7px rebeccapurple solid;
            font-family: "Atma";
            cursor: pointer;
        }
        #randomize:hover {
            background-color: #f0ddff;
        }

        .element {
            display: inline-block;
        }

        #title-image {
            max-width: 90vw;
        }
    </style>

</head>

<body id="body" background="Backgrounds/BG6.png">
    <div class="content">
        <div class="row">
            <img src="Title.png" id="title-image">
        </div>
        <div class="row">
            <img src="Monster/Unknown.png" class="item" id="monster">
            <div id="monster-label" class="label" style="margin-top: -15px">?</div>
        </div>
        <div class="row">
            <span class="element">
                <img src="monster/Unknown.png" class="item" id="damage">
                <div id="damage-label" class="label" style="margin-top: -15px">?</div>
            </span>
            <span class="element">
                <img src="Monster/Unknown.png" class="item" id="weapon">
                <div id="weapon-label" class="label">?</div>
            </span>
        </div>
        <div class="row">
            <div id="result" class="label">?</div>
        </div>
        <div class="row">
            <button id="randomize">
                Randomize!
            </button>
        </div>
    </div>

    <script>
        let monsters = [
            "Ajarakan",
            "Arkveld",
            "Balahara",
            "Blangonga",
            "Chatacabra",
            "Congalala",
            "Doshugama",
            "Gore Magala",
            "Gravios",
            "Guardian Doshaguma",
            "Guardian Ebony Odogaron",
            "Guardian Fulgur Anjanath",
            "Guardian Rathalos",
            "Gypceros",
            "Hirabami",
            "Jin Dahaad",
            "Lala Barina",
            "Nerscylla",
            "Nu Udra",
            "Quematrice",
            "Rathalos",
            "Rathian",
            "Rey Dau",
            "Rompopolo",
            "Uth Duna",
            "Xu Wu",
            "Yian Kut-Ku",
        ];
        let weapons = [
            "Bow",
            "Charge Blade",
            "Dual Blades",
            "Great Sword",
            "Gunlance",
            "Hammer",
            "Heavy Bowgun",
            "Hunting Horn",
            "Insect Glaive",
            "Lance",
            "Light Bowgun",
            "Long Sword",
            "Switch Axe",
            "Sword and Shield",
        ];
        let ammo = [
            "Normal",
            "Pierce",
            "Spread",
            "Sticky",
        ];
        let shells = [
            "Long",
            "Normal",
            "Wide",
        ];
        let elements = [
            "Dragon",
            "Fire",
            "Ice",
            "Thunder",
            "Water",
        ];
        let status = [
            "Blast",
            "Paralysis",
            "Poison",
            "Sleep",
        ];

        let backgroundIndex = Math.floor(Math.random() * 16) + 1;
        document.getElementById("body").background = "Backgrounds/BG" + backgroundIndex + ".png";

        let drumroll = new Audio("drumroll.wav");
        const monsterStop = 200;
        const allStop = 380;
        document.getElementById("randomize").addEventListener("click", () => {
            drumroll.play();
            let animationCounter = 0;
            let final = pickRandomImages();
            let setRandomAnimation = () => {
                let chosen = pickRandomImages();
                animationCounter += 1;
                if (animationCounter >= monsterStop) {
                    chosen.monster = final.monster;
                }
                if (animationCounter >= allStop) {
                    chosen.damage = final.damage;
                    chosen.damageTypeName = final.damageTypeName;
                    chosen.weapon = final.weapon;
                }
                document.getElementById("result").innerText =
                    `Hunt ${chosen.monster} with ${chosen.damage} ${chosen.weapon}!`;
                setImage("Weapon", chosen.weapon, "weapon");
                setImage("Monster", chosen.monster, "monster");
                setImage(chosen.damageTypeName, chosen.damage, "damage");
                if (animationCounter < allStop) {
                    window.setTimeout(setRandomAnimation, 10);
                } else {
                }
            };
            setRandomAnimation();
        });

        function pickRandomImages() {
            let monster = randomize("Monster", monsters, "monster");
            let weapon = randomize("Weapon", weapons, "weapon");
            let damage;
            let damageType = Math.floor(Math.random() * 3);
            let damageTypeName;
            switch (damageType) {
                case 0: {
                    // Raw
                    if (weapon == "Light Bowgun" || weapon == "Heavy Bowgun") {
                        damageTypeName = "Damage Types/Ammo";
                        damage = randomize(damageTypeName, ammo, "damage");
                    } else if (weapon == "Gunlance") {
                        damageTypeName ="Damage Types/Shells";
                        damage = randomize(damageTypeName, shells, "damage");
                    } else {
                        damageTypeName ="Damage Types";
                        damage = randomize(damageTypeName, ["Raw"], "damage");
                    }
                    break;
                }
                case 1: {
                    // Elements
                    damageTypeName ="Damage Types/Element";
                    damage = randomize(damageTypeName, elements, "damage");
                    break;
                }
                case 2: {
                    // Status
                    damageTypeName = "Damage Types/Status";
                    damage = randomize(damageTypeName, status, "damage");
                    break;
                }
            }
            return {
                weapon, monster, damage, damageTypeName
            };
        }

        function setImage(type, element, inputName) {
            let image = document.getElementById(inputName);
            let label = document.getElementById(inputName + "-label");
            label.innerText = element;
            image.src = type + "/" + element + ".png";
        }

        function randomize(type, list, inputName) {
            return list[Math.floor(Math.random() * list.length)];
        }
    </script>

</body>

</html>